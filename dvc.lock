schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/RiceImgClassification/pipeline/data_ingestion_pipeline.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 26ba9fd3c508e215eddf28f9d2d9658f
      size: 1030
    - path: src/RiceImgClassification/pipeline/data_ingestion_pipeline.py
      hash: md5
      md5: 7c920d48d74b7542b5fbb8cf86f4220d
      size: 885
    outs:
    - path: artifacts/data_ingestion/Rice_Image_Dataset
      hash: md5
      md5: 1071310886d0097d67cf8a5095c83c30.dir
      size: 267349373
      nfiles: 75000
    - path: artifacts/data_ingestion/data.zip
      hash: md5
      md5: 889a195b5fc96d00a4f43b2c817a7a62
      size: 228557926
  data_preparation:
    cmd: python src/RiceImgClassification/pipeline/data_preparation_pipeline.py
    deps:
    - path: artifacts/data_ingestion/Rice_Image_Dataset
      hash: md5
      md5: 1071310886d0097d67cf8a5095c83c30.dir
      size: 267349373
      nfiles: 75000
    - path: config/config.yaml
      hash: md5
      md5: 26ba9fd3c508e215eddf28f9d2d9658f
      size: 1030
    - path: src/RiceImgClassification/pipeline/data_preparation_pipeline.py
      hash: md5
      md5: 31a2aeab4591f05eeb52caf094a8dfb6
      size: 986
    outs:
    - path: artifacts/data_preparation/test
      hash: md5
      md5: bea810b45cd67ddd66efd3c3d8630132.dir
      size: 26755180
      nfiles: 7500
    - path: artifacts/data_preparation/train
      hash: md5
      md5: 776a4bbeb8b5854dd01cf121318727b1.dir
      size: 187084442
      nfiles: 52500
    - path: artifacts/data_preparation/val
      hash: md5
      md5: 33c78ffc0508081cf5cabaef85b24bd4.dir
      size: 53509751
      nfiles: 15000
  prepare_model:
    cmd: python src/RiceImgClassification/pipeline/model_preparation_pipeline.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 26ba9fd3c508e215eddf28f9d2d9658f
      size: 1030
    - path: params.yaml
      hash: md5
      md5: 61a9d1ed59cd85437dbd85c0d67c6937
      size: 138
    - path: src/RiceImgClassification/pipeline/model_preparation_pipeline.py
      hash: md5
      md5: e5a459216feed3fca5dc6ffdd2ab4d44
      size: 1063
    params:
      params.yaml:
        classes: 5
        decay_rate: 0.9
        epochs: 25
        epsilon: 1e-08
        input_image_size:
        - 64
        - 64
        - 3
        learning_rate: 0.0001
        weight_decay: 0.001
    outs:
    - path: artifacts/prepare_model/model.h5
      hash: md5
      md5: 65decf41147b9b0b5676e25322b254fc
      size: 3283104
  training:
    cmd: python src/RiceImgClassification/pipeline/model_training_pipeline.py
    deps:
    - path: artifacts/prepare_model/model.h5
      hash: md5
      md5: 65decf41147b9b0b5676e25322b254fc
      size: 3283104
    - path: config/config.yaml
      hash: md5
      md5: 26ba9fd3c508e215eddf28f9d2d9658f
      size: 1030
    - path: params.yaml
      hash: md5
      md5: 61a9d1ed59cd85437dbd85c0d67c6937
      size: 138
    - path: src/RiceImgClassification/pipeline/model_training_pipeline.py
      hash: md5
      md5: ccb66c446b8cd6204f6d2172438b28dc
      size: 1406
    params:
      params.yaml:
        epochs: 25
    outs:
    - path: artifacts/training/history.json
      hash: md5
      md5: 56f1ea2bc6067a086f76f24d7b2f32b5
      size: 2062
    - path: artifacts/training/model.h5
      hash: md5
      md5: 1d1880b611ee8de9cf25970b9bd7e0f8
      size: 6545816
  model_evaluation:
    cmd: python src/RiceImgClassification/pipeline/model_evaluation_pipeline.py
    deps:
    - path: artifacts/data_preparation/val
      hash: md5
      md5: 33c78ffc0508081cf5cabaef85b24bd4.dir
      size: 53509751
      nfiles: 15000
    - path: artifacts/training
      hash: md5
      md5: 44e8f6995ba49584940c57f789c14435.dir
      size: 6547878
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: 26ba9fd3c508e215eddf28f9d2d9658f
      size: 1030
    - path: src/RiceImgClassification/pipeline/model_evaluation_pipeline.py
      hash: md5
      md5: 1d15103844eb91e40ad2bec9e046e4b3
      size: 949
    params:
      params.yaml:
        epochs: 25
    outs:
    - path: artifacts/evaluation/graphs.png
      hash: md5
      md5: f4306fcc80fa386ccc09ded9721fe9c2
      size: 47399
